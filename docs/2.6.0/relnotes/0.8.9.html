
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>5.18. Release Notes for Buildbot 0.8.9 &#8212; Buildbot 2.6.0 documentation</title>
    <link rel="stylesheet" href="../_static/qtile.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/icon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5.19. Release Notes for Buildbot v0.8.8" href="0.8.8.html" />
    <link rel="prev" title="5.17. Release Notes for Buildbot 0.8.10" href="0.8.10.html" /> 
  <!-- GA-TRACKING-START -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try{
var pageTracker = _gat._getTracker("UA-12313843-4");
pageTracker._setDomainName("none");
pageTracker._setAllowLinker(true);
pageTracker._trackPageview();
} catch(err) {}
</script>
<!-- GA-TRACKING-END -->
</head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="0.8.8.html" title="5.19. Release Notes for Buildbot v0.8.8"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0.8.10.html" title="5.17. Release Notes for Buildbot 0.8.10"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Buildbot 2.6.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">4. Release Notes</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">Buildbot no longer supports Python 2.7 on the Buildbot master.</p>
</div>
<div class="section" id="release-notes-for-buildbot-0-8-9">
<h1>5.18. Release Notes for Buildbot 0.8.9<a class="headerlink" href="#release-notes-for-buildbot-0-8-9" title="Permalink to this headline">¶</a></h1>
<p>The following are the release notes for Buildbot 0.8.9. Buildbot 0.8.9 was
released on 14 June, 2014.</p>
<div class="section" id="master">
<h2>5.18.1. Master<a class="headerlink" href="#master" title="Permalink to this headline">¶</a></h2>
<div class="section" id="features">
<h3>5.18.1.1. Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h3>
<ul>
<li><dl class="first docutils">
<dt>The following optional parameters have been added to <code class="xref py py-class docutils literal notranslate"><span class="pre">EC2LatentBuildSlave</span></code></dt><dd><ul class="simple">
<li>Boolean parameter <code class="docutils literal notranslate"><span class="pre">spot_instance</span></code>, default False, creates a spot instance.</li>
<li>Float parameter <code class="docutils literal notranslate"><span class="pre">max_spot_price</span></code> defines the maximum bid for a spot instance.</li>
<li>List parameter <code class="docutils literal notranslate"><span class="pre">volumes</span></code>, takes a list of (volume_id, mount_point) tuples.</li>
<li>String parameter <code class="docutils literal notranslate"><span class="pre">placement</span></code> is appended to the <code class="docutils literal notranslate"><span class="pre">region</span></code> parameter, e.g. <code class="docutils literal notranslate"><span class="pre">region='us-west-2',</span> <span class="pre">placement='b'</span></code>
will result in the spot request being placed in us-west-2b.</li>
<li>Float parameter <code class="docutils literal notranslate"><span class="pre">price_multiplier</span></code> specifies the percentage bid above the 24-hour average spot price.</li>
<li>Dict parameter <code class="docutils literal notranslate"><span class="pre">tags</span></code> specifies AWS tags as key/value pairs to be applied to new instances.</li>
</ul>
</dd>
</dl>
<p>With <code class="docutils literal notranslate"><span class="pre">spot_instance=True</span></code>, an <code class="docutils literal notranslate"><span class="pre">EC2LatentBuildSlave</span></code> will attempt to create a spot instance with the provided spot
price, placement, and so on.</p>
</li>
<li><p class="first">The web hooks now include support for Bitbucket, GitLab and Gitorious.</p>
</li>
<li><p class="first">The GitHub webhook has been updated to work with v3 of the GitHub webhook API.</p>
</li>
<li><p class="first">The GitHub webhook can now optionally ignore non-distinct commits (<a class="reference external" href="http://trac.buildbot.net/ticket/1861">bug #1861</a>).</p>
</li>
<li><p class="first">The <a class="reference internal" href="../manual/configuration/changesources.html#chsrc-HgPoller" title="HgPoller"><code class="xref bb bb-chsrc docutils literal notranslate"><span class="pre">HgPoller</span></code></a> and <a class="reference internal" href="../manual/configuration/changesources.html#chsrc-GitPoller" title="GitPoller"><code class="xref bb bb-chsrc docutils literal notranslate"><span class="pre">GitPoller</span></code></a> now split filenames on newlines, rather than whitespace, so files containing whitespace are handled correctly.</p>
</li>
<li><p class="first">Add ‘pollAtLaunch’ flag for polling change sources. This allows a poller to poll immediately on launch and get changes that occurred while it was down.</p>
</li>
<li><p class="first">Added the <a class="reference internal" href="../manual/configuration/changesources.html#chsrc-BitbucketPullrequestPoller" title="BitbucketPullrequestPoller"><code class="xref bb bb-chsrc docutils literal notranslate"><span class="pre">BitbucketPullrequestPoller</span></code></a> changesource.</p>
</li>
<li><p class="first">The <a class="reference internal" href="../manual/configuration/changesources.html#chsrc-GitPoller" title="GitPoller"><code class="xref bb bb-chsrc docutils literal notranslate"><span class="pre">GitPoller</span></code></a> can now be configured to poll all available branches (<a class="reference external" href="https://github.com/buildbot/buildbot/pull/1010">pull request 1010</a>).</p>
</li>
<li><p class="first">The <a class="reference internal" href="../manual/configuration/changesources.html#chsrc-P4Source" title="P4Source"><code class="xref bb bb-chsrc docutils literal notranslate"><span class="pre">P4Source</span></code></a> changesource now supports Perforce servers in a different timezone than the buildbot master (<a class="reference external" href="https://github.com/buildbot/buildbot/pull/728">pull request 728</a>).</p>
</li>
<li><p class="first">Each Scheduler type can now take a ‘reason’ argument to customize the reason it uses for triggered builds.</p>
</li>
<li><p class="first">A new argument <code class="docutils literal notranslate"><span class="pre">createAbsoluteSourceStamps</span></code> has been added to <a class="reference internal" href="../manual/configuration/schedulers.html#sched-SingleBranchScheduler" title="SingleBranchScheduler"><code class="xref bb bb-sched docutils literal notranslate"><span class="pre">SingleBranchScheduler</span></code></a> for use with multiple codebases.</p>
</li>
<li><p class="first">A new argument <code class="docutils literal notranslate"><span class="pre">createAbsoluteSourceStamps</span></code> has been added to <a class="reference internal" href="../manual/configuration/schedulers.html#sched-Nightly" title="Nightly"><code class="xref bb bb-sched docutils literal notranslate"><span class="pre">Nightly</span></code></a> for use with multiple codebases.</p>
</li>
<li><p class="first">The <a class="reference internal" href="../manual/configuration/schedulers.html#sched-Periodic" title="Periodic"><code class="xref bb bb-sched docutils literal notranslate"><span class="pre">Periodic</span></code></a> scheduler now supports codebases.</p>
</li>
<li><p class="first">The <a class="reference internal" href="../manual/configuration/schedulers.html#sched-ForceScheduler" title="ForceScheduler"><code class="xref bb bb-sched docutils literal notranslate"><span class="pre">ForceScheduler</span></code></a> now takes a <code class="docutils literal notranslate"><span class="pre">buttonName</span></code> argument to specify the name of the button on the force-build form.</p>
</li>
<li><p class="first">Master side source checkout steps now support patches (<a class="reference external" href="http://trac.buildbot.net/ticket/2098">bug #2098</a>). The <a class="reference internal" href="../manual/configuration/buildsteps.html#step-Git" title="Git"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">Git</span></code></a> and <a class="reference internal" href="../manual/configuration/buildsteps.html#step-Mercurial" title="Mercurial"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">Mercurial</span></code></a> steps use their inbuilt commands to apply patches (<a class="reference external" href="http://trac.buildbot.net/ticket/2563">bug #2563</a>).</p>
</li>
<li><p class="first">Master side source checkout steps now support retry option (<a class="reference external" href="http://trac.buildbot.net/ticket/2465">bug #2465</a>).</p>
</li>
<li><p class="first">Master-side source checkout steps now respond to the “stop build” button (<a class="reference external" href="http://trac.buildbot.net/ticket/2356">bug #2356</a>).</p>
</li>
<li><p class="first"><a class="reference internal" href="../manual/configuration/buildsteps.html#step-Git" title="Git"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">Git</span></code></a> source checkout step now supports reference repositories.</p>
</li>
<li><p class="first">The <a class="reference internal" href="../manual/configuration/buildsteps.html#step-Git" title="Git"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">Git</span></code></a> step now uses the <cite>git clean</cite> option <cite>-f</cite> twice, to also remove untracked directories managed by another git repository.
See <a class="reference external" href="http://trac.buildbot.net/ticket/2560">bug #2560</a>.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">branch</span></code> and <code class="docutils literal notranslate"><span class="pre">codebase</span></code> arguments to the <a class="reference internal" href="../manual/configuration/buildsteps.html#step-Git" title="Git"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">Git</span></code></a> step are now renderable.</p>
</li>
<li><p class="first">Gerrit integration with <a class="reference internal" href="../manual/configuration/buildsteps.html#step-Git" title="Git"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">Git</span></code></a> Source step on master side (<a class="reference external" href="http://trac.buildbot.net/ticket/2485">bug #2485</a>).</p>
</li>
<li><p class="first"><a class="reference internal" href="../manual/configuration/buildsteps.html#step-P4" title="P4"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">P4</span></code></a> source step now supports more advanced options.</p>
</li>
<li><p class="first">The master-side <a class="reference internal" href="../manual/configuration/buildsteps.html#step-SVN" title="SVN"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">SVN</span></code></a> step now supports authentication for mode=export, fixing <a class="reference external" href="http://trac.buildbot.net/ticket/2463">bug #2463</a>.</p>
</li>
<li><p class="first">The <a class="reference internal" href="../manual/configuration/buildsteps.html#step-SVN" title="SVN"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">SVN</span></code></a> step will now canonicalize URL’s before matching them for better accuracy.</p>
</li>
<li><p class="first">The <a class="reference internal" href="../manual/configuration/buildsteps.html#step-SVN" title="SVN"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">SVN</span></code></a> step now obfuscates the password in status logs, fixing <a class="reference external" href="http://trac.buildbot.net/ticket/2468">bug #2468</a>.</p>
</li>
<li><p class="first"><a class="reference internal" href="../manual/configuration/buildsteps.html#step-SVN" title="SVN"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">SVN</span></code></a> source step and ShellCommand now support password obfuscation. (<a class="reference external" href="http://trac.buildbot.net/ticket/2468">bug #2468</a> and <a class="reference external" href="http://trac.buildbot.net/ticket/1748">bug #1748</a>).</p>
</li>
<li><p class="first"><a class="reference internal" href="../manual/configuration/buildsteps.html#step-CVS" title="CVS"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">CVS</span></code></a> source step now checks for “sticky dates” from a previous checkout before updating an existing source directory.</p>
</li>
<li><p class="first">:<a class="reference internal" href="../manual/configuration/buildsteps.html#step-Repo" title="Repo"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">Repo</span></code></a> now supports a <code class="docutils literal notranslate"><span class="pre">depth</span></code> flag when initializing the repo. This controls the amount of git history to download.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">manifestBranch</span></code> of the bb:step:<cite>Repo</cite> step is now renderable</p>
</li>
<li><p class="first">New source step <a class="reference internal" href="../manual/configuration/buildsteps.html#step-Monotone" title="Monotone"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">Monotone</span></code></a> added on master side.</p>
</li>
<li><p class="first">New source step <a class="reference internal" href="../manual/configuration/buildsteps.html#step-Darcs" title="Darcs"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">Darcs</span></code></a> added on master side.</p>
</li>
<li><p class="first">A new <a class="reference internal" href="../manual/configuration/buildsteps.html#step-Robocopy" title="Robocopy"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">Robocopy</span></code></a> step is available for Windows builders (<a class="reference external" href="https://github.com/buildbot/buildbot/pull/728">pull request 728</a>).</p>
</li>
<li><p class="first">The attributes <code class="docutils literal notranslate"><span class="pre">description</span></code>, <code class="docutils literal notranslate"><span class="pre">descriptionDone</span></code> and <code class="docutils literal notranslate"><span class="pre">descriptionSuffix</span></code> have been moved from <code class="xref py py-class docutils literal notranslate"><span class="pre">ShellCommand</span></code> to its superclass <code class="xref py py-class docutils literal notranslate"><span class="pre">BuildStep</span></code> so that any class that inherits from <code class="xref py py-class docutils literal notranslate"><span class="pre">BuildStep</span></code> can provide a suitable description of itself.</p>
</li>
<li><p class="first">A new <code class="xref py py-class docutils literal notranslate"><span class="pre">FlattenList</span></code> Renderable has been added which can flatten nested lists.</p>
</li>
<li><p class="first">Added new build steps for <a class="reference internal" href="../manual/configuration/buildsteps.html#step-VC12" title="VC12"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">VC12</span></code></a>, <a class="reference internal" href="../manual/configuration/buildsteps.html#step-VS2013" title="VS2013"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">VS2013</span></code></a> and <a class="reference internal" href="../manual/configuration/buildsteps.html#step-MsBuild12" title="MsBuild12"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">MsBuild12</span></code></a>.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">mode</span></code> parameter of the VS steps is now renderable (<a class="reference external" href="http://trac.buildbot.net/ticket/2592">bug #2592</a>).</p>
</li>
<li><p class="first">The <a class="reference internal" href="../manual/configuration/buildsteps.html#step-HTTPStep" title="HTTPStep"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">HTTPStep</span></code></a> step can make arbitrary HTTP requests from the master, allowing communication with external APIs.
This new feature requires the optional <code class="docutils literal notranslate"><span class="pre">txrequests</span></code> and <code class="docutils literal notranslate"><span class="pre">requests</span></code> Python packages.</p>
</li>
<li><p class="first">A new <a class="reference internal" href="../manual/configuration/buildsteps.html#step-MultipleFileUpload" title="MultipleFileUpload"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">MultipleFileUpload</span></code></a> step was added to allow uploading several files (or directories) in a single step.</p>
</li>
<li><p class="first">Information about the buildslaves (admin, host, etc) is now persisted in the database and available even if
the slave is not connected.</p>
</li>
<li><p class="first">Buildslave info can now be retrieved via <a class="reference internal" href="../manual/configuration/properties.html#interpolate"><span class="std std-ref">Interpolate</span></a> and a new <code class="docutils literal notranslate"><span class="pre">SetSlaveInfo</span></code> buildstep.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">GNUAutotools</span></code> factory now has a reconf option to run autoreconf before <code class="docutils literal notranslate"><span class="pre">./configure</span></code>.</p>
</li>
<li><p class="first">Builder configurations can now include a <code class="docutils literal notranslate"><span class="pre">description</span></code>, which will appear in the web UI to help humans figure out what the builder does.</p>
</li>
<li><p class="first">The WebStatus builder page can now filter pending/current/finished builds by property parameters of the form <code class="docutils literal notranslate"><span class="pre">?property.&lt;name&gt;=&lt;value&gt;</span></code>.</p>
</li>
<li><p class="first">The WebStatus <code class="docutils literal notranslate"><span class="pre">StatusResourceBuilder</span></code> page can now take the <code class="docutils literal notranslate"><span class="pre">maxsearch</span></code> argument</p>
</li>
<li><p class="first">The WebStatus has a new authz “view” action that allows you to require users to logged in to view the WebStatus.</p>
</li>
<li><p class="first">The WebStatus now shows revisions (+ codebase) where it used to simply say “multiple rev”.</p>
</li>
<li><p class="first">The Console view now supports codebases.</p>
</li>
<li><dl class="first docutils">
<dt>The web UI for Builders has been updated:</dt><dd><ul class="simple">
<li>shows the build ‘reason’ and ‘interested users’</li>
<li>shows sourcestamp information for builders that use multiple codebases (instead of the generic
“multiple rev” placeholder that was shown before).</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">The waterfall and atom/rss feeds can be filtered with the <code class="docutils literal notranslate"><span class="pre">project</span></code> url parameter.</p>
</li>
<li><p class="first">The WebStatus <code class="docutils literal notranslate"><span class="pre">Authorization</span></code> support now includes a <code class="docutils literal notranslate"><span class="pre">view</span></code> action which can be used to restrict read-only access to the Buildbot instance.</p>
</li>
<li><p class="first">The web status now has options to cancel some or all pending builds.</p>
</li>
<li><p class="first">The WebStatus now interprets ANSI color codes in stdio output.</p>
</li>
<li><p class="first">It is now possible to select categories to show in the waterfall help</p>
</li>
<li><p class="first">The web status now automatically scrolls output logs (<a class="reference external" href="https://github.com/buildbot/buildbot/pull/1078">pull request 1078</a>).</p>
</li>
<li><p class="first">The web UI now supports a PNG Status Resource that can be accessed publicly from for example README.md files or wikis or whatever other resource.
This view produces an image in PNG format with information about the last build for the given builder name or whatever other build number if is passed as an argument to the view.</p>
</li>
<li><p class="first">Revision links for commits on SouceForge (Allura) are now automatically generated.</p>
</li>
<li><p class="first">The ‘Rebuild’ button on the web pages for builds features a dropdown to choose whether to
rebuild from exact revisions or from the same sourcestamps (ie, update branch references)</p>
</li>
<li><p class="first">Build status can be sent to GitHub.
Depends on txgithub package.
See <a class="reference internal" href="../manual/configuration/reporters.html#reporter-GitHubStatusPush" title="GitHubStatusPush"><code class="xref bb bb-reporter docutils literal notranslate"><span class="pre">GitHubStatusPush</span></code></a> and <a class="reference external" href="https://github.com/blog/1227-commit-status-api">GitHub Commit Status</a>.</p>
</li>
<li><p class="first">The IRC bot of <a class="reference internal" href="../manual/configuration/reporters.html#reporter-IRC" title="IRC"><code class="xref bb bb-reporter docutils literal notranslate"><span class="pre">IRC</span></code></a> will, unless useRevisions is set, shorten
long lists of revisions printed when a build starts; it will only show two,
and the number of additional revisions included in the build.</p>
</li>
<li><p class="first">A new argument <code class="docutils literal notranslate"><span class="pre">summaryCB</span></code> has been added to <code class="docutils literal notranslate"><span class="pre">GerritStatusPush</span></code>, to allow sending one review per buildset. Sending a single “summary” review per buildset is now the default if neither <code class="docutils literal notranslate"><span class="pre">summaryCB</span></code> nor <code class="docutils literal notranslate"><span class="pre">reviewCB</span></code> are specified.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">comments</span></code> field of changes is no longer limited to 1024 characters on MySQL and Postgres.  See <a class="reference external" href="http://trac.buildbot.net/ticket/2367">bug #2367</a> and <a class="reference external" href="https://github.com/buildbot/buildbot/pull/736">pull request 736</a>.</p>
</li>
<li><p class="first">HTML log files are no longer stored in status pickles (<a class="reference external" href="https://github.com/buildbot/buildbot/pull/1077">pull request 1077</a>)</p>
</li>
<li><p class="first">Builds are now retried after a slave is lost (<a class="reference external" href="https://github.com/buildbot/buildbot/pull/1049">pull request 1049</a>).</p>
</li>
<li><p class="first">The buildbot status client can now access a build properties via the <code class="docutils literal notranslate"><span class="pre">getProperties</span></code> call.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">start</span></code>, <code class="docutils literal notranslate"><span class="pre">restart</span></code>, and <code class="docutils literal notranslate"><span class="pre">reconfig</span></code> commands will now wait for longer than 10 seconds as long as the master continues producing log lines indicating that the configuration is progressing.</p>
</li>
<li><p class="first">Added new config option <code class="docutils literal notranslate"><span class="pre">protocols</span></code> which allows to configure multiple protocols on single master.</p>
</li>
<li><p class="first">RemoteShellCommands can be killed by SIGTERM with the sigtermTime parameter before resorting to SIGKILL (<a class="reference external" href="http://trac.buildbot.net/ticket/751">bug #751</a>).
If the slave’s version is less than 0.8.9, the slave will kill the process with SIGKILL regardless of whether sigtermTime
is supplied.</p>
</li>
<li><p class="first">Introduce an alternative way to deploy Buildbot and try the pyflakes tutorial
using <a class="reference internal" href="../tutorial/docker.html#first-run-docker-label"><span class="std std-ref">Docker</span></a>.</p>
</li>
<li><p class="first">Added zsh and bash tab-completions support for ‘buildbot’ command.</p>
</li>
<li><p class="first">An example of a declarative configuration is included in <code class="docutils literal notranslate"><span class="pre">master/contrib/SimpleConfig.py</span></code>, with copious comments.</p>
</li>
<li><p class="first">Systemd unit files for Buildbot are available in the <a class="reference external" href="https://github.com/buildbot/buildbot-contrib/tree/master/master/contrib/">master/contrib/</a> directory.</p>
</li>
<li><p class="first">We’ve added some extra checking to make sure that you have a valid locale before starting buildbot (#2608).</p>
</li>
</ul>
</div>
<div class="section" id="forward-compatibility">
<h3>5.18.1.2. Forward Compatibility<a class="headerlink" href="#forward-compatibility" title="Permalink to this headline">¶</a></h3>
<p>In preparation for a more asynchronous implementation of build steps in Buildbot 0.9.0, this version introduces support for new-style steps.
Existing old-style steps will continue to function correctly in Buildbot 0.8.x releases and in Buildbot 0.9.0, but support will be dropped soon afterward.
See <a class="reference internal" href="../manual/upgrading/new-style-steps.html#new-style-build-steps"><span class="std std-ref">New-Style Build Steps</span></a>, below, for guidance on rewriting existing steps in this new style.
To eliminate ambiguity, the documentation for this version only reflects support for new-style steps.
Refer to the documentation for previous versions for information on old-style steps.</p>
</div>
<div class="section" id="fixes">
<h3>5.18.1.3. Fixes<a class="headerlink" href="#fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixes an issue where <a class="reference internal" href="../manual/configuration/changesources.html#chsrc-GitPoller" title="GitPoller"><code class="xref bb bb-chsrc docutils literal notranslate"><span class="pre">GitPoller</span></code></a> sets the change branch to <code class="docutils literal notranslate"><span class="pre">refs/heads/master</span></code> - which isn’t compatible with <a class="reference internal" href="../manual/configuration/buildsteps.html#step-Git" title="Git"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">Git</span></code></a> (<a class="reference external" href="https://github.com/buildbot/buildbot/pull/1069">pull request 1069</a>).</li>
<li>Fixed an issue where the <a class="reference internal" href="../manual/configuration/buildsteps.html#step-Git" title="Git"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">Git</span></code></a> and <a class="reference internal" href="../manual/configuration/buildsteps.html#step-CVS" title="CVS"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">CVS</span></code></a> source steps silently changed the <code class="docutils literal notranslate"><span class="pre">workdir</span></code> to <code class="docutils literal notranslate"><span class="pre">'build'</span></code> when the ‘copy’ method is used.</li>
<li>The <a class="reference internal" href="../manual/configuration/buildsteps.html#step-CVS" title="CVS"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">CVS</span></code></a> source step now respects the timeout parameter.</li>
<li>The <a class="reference internal" href="../manual/configuration/buildsteps.html#step-Git" title="Git"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">Git</span></code></a> step now uses the <cite>git submodule update</cite> option <cite>–init</cite> when updating the submodules of an existing repository,
so that it will receive any newly added submodules.</li>
<li>The web status no longer relies on the current working directory, which is not set correctly by some initscripts, to find the <code class="docutils literal notranslate"><span class="pre">templates/</span></code> directory (<a class="reference external" href="http://trac.buildbot.net/ticket/2586">bug #2586</a>).</li>
<li>The Perforce source step uses the correct path separator when the master is on Windows and the build slave is on a POSIX OS (<a class="reference external" href="https://github.com/buildbot/buildbot/pull/1114">pull request 1114</a>).</li>
<li>The source steps now correctly interpolate properties in <code class="docutils literal notranslate"><span class="pre">env</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">GerritStatusPush</span></code> now supports setting scores with Gerrit 2.6 and newer</li>
<li>The change hook no longer fails when passing unicode to <code class="docutils literal notranslate"><span class="pre">change_hook_auth</span></code> (<a class="reference external" href="https://github.com/buildbot/buildbot/pull/996">pull request 996</a>).</li>
<li>The source steps now correctly interpolate properties in <code class="docutils literal notranslate"><span class="pre">env</span></code>.</li>
<li>Whitespace is properly handled for StringParameter, so that appropriate validation errors are raised for <code class="docutils literal notranslate"><span class="pre">required</span></code> parameters (<a class="reference external" href="https://github.com/buildbot/buildbot/pull/1084">pull request 1084</a>).</li>
<li>Fix a rare case where a buildtep might fail from a GeneratorExit exception (<a class="reference external" href="https://github.com/buildbot/buildbot/pull/1063">pull request 1063</a>).</li>
<li>Fixed an issue where UTF-8 data in logs caused RSS feed exceptions (<a class="reference external" href="http://trac.buildbot.net/ticket/951">bug #951</a>).</li>
<li>Fix an issue with unescaped author names causing invalid RSS feeds (<a class="reference external" href="http://trac.buildbot.net/ticket/2596">bug #2596</a>).</li>
<li>Fixed an issue with pubDate format in feeds.</li>
<li>Fixed an issue where the step text value could cause a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> in the build detail page (<a class="reference external" href="https://github.com/buildbot/buildbot/pull/1061">pull request 1061</a>).</li>
<li>Fix failures where <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clean</span></code> fails but could be clobbered (<a class="reference external" href="https://github.com/buildbot/buildbot/pull/1058">pull request 1058</a>).</li>
<li>Build step now correctly fails when the git clone step fails (<a class="reference external" href="https://github.com/buildbot/buildbot/pull/1057">pull request 1057</a>).</li>
<li>Fixed a race condition in slave shutdown (<a class="reference external" href="https://github.com/buildbot/buildbot/pull/1019">pull request 1019</a>).</li>
<li>Now correctly unsubscribes StatusPush from status updates when reconfiguring (<a class="reference external" href="https://github.com/buildbot/buildbot/pull/997">pull request 997</a>).</li>
<li>Fixes parsing git commit messages that are blank.</li>
<li><a class="reference internal" href="../manual/configuration/buildsteps.html#step-Git" title="Git"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">Git</span></code></a> no longer fails when work dir exists but isn’t a checkout (<a class="reference external" href="http://trac.buildbot.net/ticket/2531">bug #2531</a>).</li>
<li>The <cite>haltOnFailure</cite> and <cite>flunkOnFailure</cite> attributes of <a class="reference internal" href="../manual/configuration/buildsteps.html#step-ShellCommand" title="ShellCommand"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">ShellCommand</span></code></a> are now renderable. (<a class="reference external" href="http://trac.buildbot.net/ticket/2486">bug #2486</a>).</li>
<li>The <cite>rotateLength</cite> and <cite>maxRotatedFile</cite> arguments are no longer treated as strings in <code class="file docutils literal notranslate"><span class="pre">buildbot.tac</span></code>. This fixes log rotation. The upgrade_master command will notify users if they have this problem.</li>
<li>Buildbot no longer specifies a revision when pulling from a mercurial (<a class="reference external" href="http://trac.buildbot.net/ticket/438">bug #438</a>).</li>
<li>The WebStatus no longer incorrectly refers to fields that might not be visible.</li>
<li>The GerritChangeSource now sets a default author, fixing an exception that occurred when Gerrit didn’t report an owner name/email.</li>
<li>Respects the <code class="docutils literal notranslate"><span class="pre">RETRY</span></code> status when an interrupt occurs.</li>
<li>Fixes an off-by-one error when the tryclient is finding the current git branch.</li>
<li>Improve the Mercurial source stamp extraction in the try client.</li>
<li>Fixes some edge cases in timezone handling for python &lt; <code class="docutils literal notranslate"><span class="pre">2.7.4</span></code> (<a class="reference external" href="http://trac.buildbot.net/ticket/2522">bug #2522</a>).</li>
<li>The <code class="docutils literal notranslate"><span class="pre">EC2LatentBuildSlave</span></code> will now only consider available AMI’s.</li>
<li>Fixes a case where the first build runs on an old slave instead of a new one after reconfig (<a class="reference external" href="http://trac.buildbot.net/ticket/2507">bug #2507</a>).</li>
<li>The e-mail address validation for the MailNotifier status receiver has been improved.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">--db</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">buildbot</span> <span class="pre">create-master</span></code> is now validated.</li>
<li>No longer ignores default choice for ForceScheduler list parameters</li>
<li>Now correctly handles <code class="docutils literal notranslate"><span class="pre">BuilderConfig(...,</span> <span class="pre">mergeRequests=False)</span></code> (<a class="reference external" href="http://trac.buildbot.net/ticket/2555">bug #2555</a>).</li>
<li>Now excludes changes from sourcestamps when they aren’t in the DB (<a class="reference external" href="http://trac.buildbot.net/ticket/2554">bug #2554</a>).</li>
<li>Fixes a compatibility issue with HPCloud in the OpenStack latent slave.</li>
<li>Allow <code class="docutils literal notranslate"><span class="pre">_</span></code> as a valid character in JSONP callback names.</li>
<li>Fix build start time retrieval in the WebStatus grid view.</li>
<li>Increase the length of the DB fields <code class="docutils literal notranslate"><span class="pre">changes.comments</span></code> and <code class="docutils literal notranslate"><span class="pre">buildset_properties.property_value</span></code>.</li>
</ul>
</div>
<div class="section" id="deprecations-removals-and-non-compatible-changes">
<h3>5.18.1.4. Deprecations, Removals, and Non-Compatible Changes<a class="headerlink" href="#deprecations-removals-and-non-compatible-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The slave-side source steps are deprecated in this version of Buildbot, and master-side support will be removed in a future version.
Please convert any use of slave-side steps (imported directly from <code class="docutils literal notranslate"><span class="pre">buildbot.steps.source</span></code>, rather than from a specific module like <code class="docutils literal notranslate"><span class="pre">buildbot.steps.source.svn</span></code>) to use master-side steps.</li>
<li>Both old-style and new-style steps are supported in this version of Buildbot.
Upgrade your steps to new-style now, as support for old-style steps will be dropped after Buildbot-0.9.0.
See <a class="reference internal" href="../manual/upgrading/new-style-steps.html#new-style-build-steps"><span class="std std-ref">New-Style Build Steps</span></a> for details.<ul>
<li>The <code class="docutils literal notranslate"><span class="pre">LoggingBuildStep</span></code> class has been deprecated, and support will be removed along with support for old-style steps after the Buildbot-0.9.0 release.
Instead, subclass <a class="reference internal" href="../developer/cls-buildsteps.html#buildbot.process.buildstep.BuildStep" title="buildbot.process.buildstep.BuildStep"><code class="xref py py-class docutils literal notranslate"><span class="pre">BuildStep</span></code></a> and mix in <code class="xref py py-class docutils literal notranslate"><span class="pre">ShellMixin</span></code> to get similar behavior.</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">slavePortnum</span></code> option deprecated, please use <code class="docutils literal notranslate"><span class="pre">c['protocols']['pb']['port']</span></code> to set up PB port</li>
<li>The <code class="docutils literal notranslate"><span class="pre">buildbot.process.mtrlogobserver</span></code> module have been renamed to <code class="xref py py-mod docutils literal notranslate"><span class="pre">buildbot.steps.mtrlogobserver</span></code>.</li>
<li>The buildmaster now requires at least Twisted-11.0.0.</li>
<li>The buildmaster now requires at least sqlalchemy-migrate 0.6.1.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">hgbuildbot</span></code> Mercurial hook has been moved to <code class="docutils literal notranslate"><span class="pre">contrib/</span></code>, and does not work with recent versions of Mercurial and Twisted.
The runtimes for these two tools are incompatible, yet <code class="docutils literal notranslate"><span class="pre">hgbuildbot</span></code> attempts to run both in the same Python interpreter.
Mayhem ensues.</li>
<li>The try scheduler’s <code class="docutils literal notranslate"><span class="pre">--connect=ssh</span></code> method no longer supports waiting for results (<code class="docutils literal notranslate"><span class="pre">--wait</span></code>).</li>
<li>The former <code class="docutils literal notranslate"><span class="pre">buildbot.process.buildstep.RemoteCommand</span></code> class and its subclasses are now in <code class="xref py py-mod docutils literal notranslate"><span class="pre">buildbot.process.remotecommand</span></code>, although imports from the previous path will continue to work.
Similarly, the former <code class="docutils literal notranslate"><span class="pre">buildbot.process.buildstep.LogObserver</span></code> class and its subclasses are now in <a class="reference internal" href="../developer/cls-logobserver.html#module-buildbot.process.logobserver" title="buildbot.process.logobserver"><code class="xref py py-mod docutils literal notranslate"><span class="pre">buildbot.process.logobserver</span></code></a>, although imports from the previous path will continue to work.</li>
<li>The undocumented BuildStep method <code class="docutils literal notranslate"><span class="pre">checkDisconnect</span></code> is deprecated and now does nothing as the handling of disconnects is now handled in the <code class="docutils literal notranslate"><span class="pre">failed</span></code> method.
Any custom steps adding this method as a callback or errback should no longer do so.</li>
<li>The build step <code class="docutils literal notranslate"><span class="pre">MsBuild</span></code> is now called <code class="docutils literal notranslate"><span class="pre">MsBuild4</span></code> as multiple versions are now supported. An alias is provided so existing setups will continue to work, but this will be removed in a future release.</li>
</ul>
</div>
<div class="section" id="changes-for-developers">
<h3>5.18.1.5. Changes for Developers<a class="headerlink" href="#changes-for-developers" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The <code class="xref py py-class docutils literal notranslate"><span class="pre">CompositeStepMixin</span></code> now provides a <code class="docutils literal notranslate"><span class="pre">runGlob</span></code> method to check for files on the slave that match a given shell-style pattern.</li>
<li>The <code class="xref py py-class docutils literal notranslate"><span class="pre">BuilderStatus</span></code> now allows you to pass a <code class="docutils literal notranslate"><span class="pre">filter_fn</span></code> argument to <code class="docutils literal notranslate"><span class="pre">generateBuilds</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="slave">
<h2>5.18.2. Slave<a class="headerlink" href="#slave" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>5.18.2.1. Features<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Added zsh and bash tab-completions support for ‘buildslave’ command.</li>
<li>RemoteShellCommands accept the new sigtermTime parameter from master. This allows processes to be killed by SIGTERM
before resorting to SIGKILL (<a class="reference external" href="http://trac.buildbot.net/ticket/751">bug #751</a>)</li>
<li>Commands will now throw a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if mandatory args are not present.</li>
<li>Added a new remote command <code class="xref py py-class docutils literal notranslate"><span class="pre">GlobPath</span></code> that can be used to call Python’s <code class="docutils literal notranslate"><span class="pre">glob.glob</span></code> on the slave.</li>
</ul>
</div>
<div class="section" id="id2">
<h3>5.18.2.2. Fixes<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed an issue when buildstep stop() was raising an exception incorrectly if timeout for
buildstep wasn’t set or was None (see <a class="reference external" href="https://github.com/buildbot/buildbot/pull/753">pull request 753</a>) thus keeping watched logfiles open
(this prevented their removal on Windows in subsequent builds).</li>
<li>Fixed a bug in P4 source step where the <code class="docutils literal notranslate"><span class="pre">timeout</span></code> parameter was ignored.</li>
<li>Fixed a bug in P4 source step where using a custom view-spec could result in failed syncs
due to incorrectly generated command-lines.</li>
<li>The logwatcher will use <code class="docutils literal notranslate"><span class="pre">/usr/xpg4/bin/tail</span></code> on Solaris, it if is available (<a class="reference external" href="https://github.com/buildbot/buildbot/pull/1065">pull request 1065</a>).</li>
</ul>
</div>
<div class="section" id="id3">
<h3>5.18.2.3. Deprecations, Removals, and Non-Compatible Changes<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="details">
<h2>5.18.3. Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
<p>For a more detailed description of the changes made in this version, see the
git log itself:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git log v0.8.8..v0.8.9
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/full_logo.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Table Of Contents</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">1. Buildbot Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/index.html">2. Buildbot Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">3. Buildbot Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">4. Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html#older-release-notes">5. Older Release Notes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="0.9.1.html">5.1. Release Notes for Buildbot <code class="docutils literal notranslate"><span class="pre">0.9.1</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0.html">5.2. Release Notes for Buildbot <code class="docutils literal notranslate"><span class="pre">0.9.0</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0rc4.html">5.3. Release Notes for Buildbot <code class="docutils literal notranslate"><span class="pre">0.9.0rc4</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0rc3.html">5.4. Release Notes for Buildbot <code class="docutils literal notranslate"><span class="pre">0.9.0rc3</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0rc2.html">5.5. Release Notes for Buildbot <code class="docutils literal notranslate"><span class="pre">0.9.0rc2</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0rc1.html">5.6. Release Notes for Buildbot <code class="docutils literal notranslate"><span class="pre">0.9.0rc1</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0b9.html">5.7. Release Notes for Buildbot 0.9.0b9</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0b8.html">5.8. Release Notes for Buildbot 0.9.0b8</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0b7.html">5.9. Release Notes for Buildbot 0.9.0b7</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0b6.html">5.10. Release Notes for Buildbot 0.9.0b6</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0b5.html">5.11. Release Notes for Buildbot 0.9.0b5</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0b4.html">5.12. Release Notes for Buildbot 0.9.0b4</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0b3.html">5.13. Release Notes for Buildbot 0.9.0b3</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0b2.html">5.14. Release Notes for Buildbot 0.9.0b2</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0b1.html">5.15. Release Notes for Buildbot 0.9.0b1</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.8.12.html">5.16. Release Notes for Buildbot 0.8.11</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.8.10.html">5.17. Release Notes for Buildbot 0.8.10</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">5.18. Release Notes for Buildbot 0.8.9</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.8.8.html">5.19. Release Notes for Buildbot v0.8.8</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.8.7.html">5.20. Release Notes for Buildbot v0.8.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.8.6.html">5.21. Release Notes for Buildbot v0.8.6p1</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../indices.html">6. Indices and Tables</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="0.8.10.html"
                        title="previous chapter">5.17. Release Notes for Buildbot 0.8.10</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="0.8.8.html"
                        title="next chapter">5.19. Release Notes for Buildbot v0.8.8</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/relnotes/0.8.9.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>