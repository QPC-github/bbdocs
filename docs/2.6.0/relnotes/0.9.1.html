
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>5.1. Release Notes for Buildbot 0.9.1 &#8212; Buildbot 2.6.0 documentation</title>
    <link rel="stylesheet" href="../_static/qtile.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/icon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5.2. Release Notes for Buildbot 0.9.0" href="0.9.0.html" />
    <link rel="prev" title="4. Release Notes" href="index.html" /> 
  <!-- GA-TRACKING-START -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try{
var pageTracker = _gat._getTracker("UA-12313843-4");
pageTracker._setDomainName("none");
pageTracker._setAllowLinker(true);
pageTracker._trackPageview();
} catch(err) {}
</script>
<!-- GA-TRACKING-END -->
</head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="0.9.0.html" title="5.2. Release Notes for Buildbot 0.9.0"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="4. Release Notes"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Buildbot 2.6.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">4. Release Notes</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">Buildbot no longer supports Python 2.7 on the Buildbot master.</p>
</div>
<div class="section" id="release-notes-for-buildbot-0-9-1">
<h1>5.1. Release Notes for Buildbot <code class="docutils literal notranslate"><span class="pre">0.9.1</span></code><a class="headerlink" href="#release-notes-for-buildbot-0-9-1" title="Permalink to this headline">¶</a></h1>
<p>The following are the release notes for Buildbot <code class="docutils literal notranslate"><span class="pre">0.9.1</span></code>.
This version was released on November 1, 2016.</p>
<p>See <a class="reference internal" href="../manual/upgrading/nine-upgrade.html#upgrading-to-nine"><span class="std std-ref">Upgrading from Buildbot 0.8.x</span></a> for a guide to upgrading from 0.8.x to 0.9.x</p>
<div class="section" id="master">
<h2>5.1.1. Master<a class="headerlink" href="#master" title="Permalink to this headline">¶</a></h2>
<div class="section" id="features">
<h3>5.1.1.1. Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Add support for hyper.sh via <code class="xref py py-class docutils literal notranslate"><span class="pre">HyperLatentWorker</span></code>
<a class="reference external" href="https://hyper.sh">Hyper</a> is a CaaS solution for hosting docker container in the cloud, billed to the second.
It forms a very cost efficient solution to run your CI in the cloud.</p>
</li>
<li><p class="first">The <a class="reference internal" href="../manual/configuration/buildsteps.html#step-Trigger" title="Trigger"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">Trigger</span></code></a> step now supports <code class="docutils literal notranslate"><span class="pre">unimportantSchedulerNames</span></code></p>
</li>
<li><p class="first">add a UI button to allow to cancel the whole queue for a builder</p>
</li>
<li><p class="first">Buildbot log viewer now support 256 colors ANSI codes</p>
</li>
<li><p class="first">new <a class="reference internal" href="../manual/configuration/buildsteps.html#step-GitHub" title="GitHub"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">GitHub</span></code></a> which correctly checkout the magic branch like <code class="docutils literal notranslate"><span class="pre">refs/pull/xx/merge</span></code>.</p>
</li>
<li><p class="first"><code class="xref py py-class docutils literal notranslate"><span class="pre">MailNotifier</span></code> now supports a <cite>schedulers</cite> constructor argument that
allows you to send mail only for builds triggered by the specified list of
schedulers.</p>
</li>
<li><p class="first"><code class="xref py py-class docutils literal notranslate"><span class="pre">MailNotifier</span></code> now supports a <cite>branches</cite> constructor argument that
allows you to send mail only for builds triggered by the specified list of
branches.</p>
</li>
<li><p class="first">Optimization of the data api filtering, sorting and paging, speeding up a lot the UI when the master has lots of builds.</p>
</li>
<li><p class="first"><a class="reference internal" href="../manual/configuration/reporters.html#reporter-GerritStatusPush" title="GerritStatusPush"><code class="xref bb bb-reporter docutils literal notranslate"><span class="pre">GerritStatusPush</span></code></a> now accepts a <code class="docutils literal notranslate"><span class="pre">notify</span></code> parameter to control who gets emailed by Gerrit.</p>
</li>
<li><p class="first">Add a <code class="docutils literal notranslate"><span class="pre">format_fn</span></code> parameter to the <code class="docutils literal notranslate"><span class="pre">HttpStatusPush</span></code> reporter to customize the information being pushed.</p>
</li>
<li><p class="first">Latent Workers can now start in parallel.</p>
<blockquote>
<div><ul class="simple">
<li>The build started by latent worker will be created while the latent worker is substantiated.</li>
<li>Latent Workers will now report startup issues in the UI.</li>
</ul>
</div></blockquote>
</li>
<li><dl class="first docutils">
<dt>Workers will be temporarily put in quarantine in case of build preparation issues.</dt><dd><p>This avoids master and database overload in case of bad worker configuration.
The quarantine is implemented with an exponential back-off timer.</p>
</dd>
</dl>
</li>
<li><p class="first">Master Stop will now stop all builds, and wait for all workers to properly disconnect.
Previously, the worker connections was stopped, which incidentally made all their builds marked retried.
Now, builds started with a <code class="xref py py-class docutils literal notranslate"><span class="pre">Triggereable</span></code> scheduler will be cancelled, while other builds will be retried.
The master will make sure that all latent workers are stopped.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">MessageFormatter</span></code> class also allows inline-templates with the <code class="docutils literal notranslate"><span class="pre">template</span></code> parameter.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">MessageFormatter</span></code> class allows custom mail’s subjects with the <code class="docutils literal notranslate"><span class="pre">subject</span></code> and <code class="docutils literal notranslate"><span class="pre">subject_name</span></code> parameters.</p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">MessageFormatter</span></code> class allows extending the context given to the Templates via the <code class="docutils literal notranslate"><span class="pre">ctx</span></code> parameter.</p>
</li>
<li><p class="first">The new <code class="docutils literal notranslate"><span class="pre">MessageFormatterMissingWorker</span></code> class allows to customize the message sent when a worker is missing.</p>
</li>
<li><p class="first">The <a class="reference internal" href="../manual/configuration/workers-openstack.html#worker-OpenStackLatentWorker" title="OpenStackLatentWorker"><code class="xref bb bb-worker docutils literal notranslate"><span class="pre">OpenStackLatentWorker</span></code></a> worker now supports rendering the block device parameters.
The <code class="docutils literal notranslate"><span class="pre">volume_size</span></code> parameter will be automatically calculated if it is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</li>
</ul>
</div>
<div class="section" id="fixes">
<h3>5.1.1.2. Fixes<a class="headerlink" href="#fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>fix the UI to allow to cancel a buildrequest (<a class="reference external" href="http://trac.buildbot.net/ticket/3582">bug #3582</a>)</li>
<li><a class="reference internal" href="../manual/configuration/wwwhooks.html#chsrc-GitHub" title="GitHub"><code class="xref bb bb-chsrc docutils literal notranslate"><span class="pre">GitHub</span></code></a> change hook now correctly use the refs/pull/xx/merge branch for testing PRs.</li>
<li>Fix the UI to better adapt to different screen width (<a class="reference external" href="http://trac.buildbot.net/ticket/3614">bug #3614</a>)</li>
<li>Don’t log <code class="xref py py-class docutils literal notranslate"><span class="pre">AlreadyClaimedError</span></code>.
They are normal in case of <a class="reference internal" href="../manual/configuration/buildsteps.html#step-Trigger" title="Trigger"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">Trigger</span></code></a> cancelling, and in a multimaster configuration.</li>
<li>Fix issues with worker disconnection.
When a worker disconnects, its current buildstep must be interrupted and the buildrequests should be retried.</li>
<li>Fix the worker missing email notification.</li>
<li>Fix issue with worker builder list not being updated in UI when buildmaster is reconfigured (<a class="reference external" href="http://trac.buildbot.net/ticket/3629">bug #3629</a>)</li>
</ul>
</div>
<div class="section" id="changes-for-developers">
<h3>5.1.1.3. Changes for Developers<a class="headerlink" href="#changes-for-developers" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id1">
<h3>5.1.1.4. Features<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>New <code class="xref py py-class docutils literal notranslate"><span class="pre">SharedService</span></code> can be used by steps, reporters, etc to implement per master resource limit.</li>
<li>New <code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPClientService</span></code> can be used by steps, reporters, etc to implement HTTP client.
This class will automatically choose between <a class="reference external" href="https://pypi.python.org/pypi/treq">treq</a> and <a class="reference external" href="https://pypi.python.org/pypi/txrequests">txrequests</a>, whichever is installed, in order to access HTTP servers.
This class comes with a fake implementation helping to write unit tests.</li>
<li>All HTTP reporters have been ported to <code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPClientService</span></code></li>
</ul>
</div>
<div class="section" id="id2">
<h3>5.1.1.5. Fixes<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="deprecations-removals-and-non-compatible-changes">
<h3>5.1.1.6. Deprecations, Removals, and Non-Compatible Changes<a class="headerlink" href="#deprecations-removals-and-non-compatible-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>By default, non-distinct commits received via
<code class="xref py py-class docutils literal notranslate"><span class="pre">buildbot.status.web.hooks.github.GitHubEventHandler</span></code> now get recorded
as a <code class="xref py py-class docutils literal notranslate"><span class="pre">Change</span></code>. In this way, a commit pushed to a branch that is not
being watched (e.g. a dev branch) will still get acted on when it is later
pushed to a branch that is being watched (e.g. master). In the past, such a
commit would get ignored and not built because it was non-distinct. To disable
this behavior and revert to the old behavior, install a <code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeFilter</span></code>
that checks the <code class="docutils literal notranslate"><span class="pre">github_distinct</span></code> property:</li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ChangeFilter</span><span class="p">(</span><span class="n">filter_fn</span><span class="o">=</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">getProperty</span><span class="p">(</span><span class="s1">&#39;github_distinct&#39;</span><span class="p">))</span>
</pre></div>
</div>
<ul class="simple">
<li>setup.py ‘scripts’ have been converted to console_scripts entry point.
This makes them more portable and compatible with wheel format.
Most consequences are for the windows users:<ul>
<li><code class="docutils literal notranslate"><span class="pre">buildbot.bat</span></code> does not exist anymore, and is replaced by <code class="docutils literal notranslate"><span class="pre">buildbot.exe</span></code>, which is generated by the console_script entrypoint.</li>
<li><code class="docutils literal notranslate"><span class="pre">buildbot_service.py</span></code> is replaced by <code class="docutils literal notranslate"><span class="pre">buildbot_windows_service.exe</span></code>, which is generated by the console_script entrypoint
As this script has been written in 2006, has only inline documentation and no unit tests, it is not guaranteed to be working.
Please help improving the windows situation.</li>
</ul>
</li>
<li>The <code class="docutils literal notranslate"><span class="pre">user</span></code> and <code class="docutils literal notranslate"><span class="pre">password</span></code> parameters of the <code class="docutils literal notranslate"><span class="pre">HttpStatusPush</span></code> reporter have been deprecated in favor of the <code class="docutils literal notranslate"><span class="pre">auth</span></code> parameter.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">template_name</span></code> parameter of the <code class="docutils literal notranslate"><span class="pre">MessageFormatter</span></code> class has been deprecated in favor of <code class="docutils literal notranslate"><span class="pre">template_filename</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="worker">
<h2>5.1.2. Worker<a class="headerlink" href="#worker" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id3">
<h3>5.1.2.1. Fixes<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id4">
<h3>5.1.2.2. Changes for Developers<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id5">
<h3>5.1.2.3. Deprecations, Removals, and Non-Compatible Changes<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The worker now requires at least Twisted 10.2.0.</li>
<li>setup.py ‘scripts’ have been converted to console_scripts entry point.
This makes them more portable and compatible with wheel format.
Most consequences are for the windows users:<ul>
<li><code class="docutils literal notranslate"><span class="pre">buildbot_worker.bat</span></code> does not exist anymore, and is replaced by <code class="docutils literal notranslate"><span class="pre">buildbot_worker.exe</span></code>, which is generated by the console_script entrypoint.</li>
<li><code class="docutils literal notranslate"><span class="pre">buildbot_service.py</span></code> is replaced by <code class="docutils literal notranslate"><span class="pre">buildbot_worker_windows_service.exe</span></code>, which is generated by the console_script entrypoint
As this script has been written in 2006, has only inline documentation and no unit tests, it is not guaranteed to be working.
Please help improving the windows situation.</li>
</ul>
</li>
<li><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractLatentWorker</span></code> is now in <code class="xref py py-mod docutils literal notranslate"><span class="pre">buildbot.worker.latent</span></code> instead of <code class="xref py py-mod docutils literal notranslate"><span class="pre">buildbot.worker.base</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="details">
<h2>5.1.3. Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
<p>For a more detailed description of the changes made in this version, see the git log itself:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git log v0.9.0..v0.9.1
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/full_logo.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Table Of Contents</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">1. Buildbot Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/index.html">2. Buildbot Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">3. Buildbot Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">4. Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html#older-release-notes">5. Older Release Notes</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">5.1. Release Notes for Buildbot <code class="docutils literal notranslate"><span class="pre">0.9.1</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0.html">5.2. Release Notes for Buildbot <code class="docutils literal notranslate"><span class="pre">0.9.0</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0rc4.html">5.3. Release Notes for Buildbot <code class="docutils literal notranslate"><span class="pre">0.9.0rc4</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0rc3.html">5.4. Release Notes for Buildbot <code class="docutils literal notranslate"><span class="pre">0.9.0rc3</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0rc2.html">5.5. Release Notes for Buildbot <code class="docutils literal notranslate"><span class="pre">0.9.0rc2</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0rc1.html">5.6. Release Notes for Buildbot <code class="docutils literal notranslate"><span class="pre">0.9.0rc1</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0b9.html">5.7. Release Notes for Buildbot 0.9.0b9</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0b8.html">5.8. Release Notes for Buildbot 0.9.0b8</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0b7.html">5.9. Release Notes for Buildbot 0.9.0b7</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0b6.html">5.10. Release Notes for Buildbot 0.9.0b6</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0b5.html">5.11. Release Notes for Buildbot 0.9.0b5</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0b4.html">5.12. Release Notes for Buildbot 0.9.0b4</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0b3.html">5.13. Release Notes for Buildbot 0.9.0b3</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0b2.html">5.14. Release Notes for Buildbot 0.9.0b2</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.9.0b1.html">5.15. Release Notes for Buildbot 0.9.0b1</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.8.12.html">5.16. Release Notes for Buildbot 0.8.11</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.8.10.html">5.17. Release Notes for Buildbot 0.8.10</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.8.9.html">5.18. Release Notes for Buildbot 0.8.9</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.8.8.html">5.19. Release Notes for Buildbot v0.8.8</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.8.7.html">5.20. Release Notes for Buildbot v0.8.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="0.8.6.html">5.21. Release Notes for Buildbot v0.8.6p1</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../indices.html">6. Indices and Tables</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">4. Release Notes</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="0.9.0.html"
                        title="next chapter">5.2. Release Notes for Buildbot <code class="docutils literal notranslate"><span class="pre">0.9.0</span></code></a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/relnotes/0.9.1.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>