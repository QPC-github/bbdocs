
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>2.2.3. Installing the code &#8212; Buildbot 2.4.1 documentation</title>
    <link rel="stylesheet" href="../../_static/qtile.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../../_static/icon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2.2.4. Buildmaster Setup" href="buildmaster.html" />
    <link rel="prev" title="2.2.2. Requirements" href="requirements.html" /> 
  <!-- GA-TRACKING-START -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try{
var pageTracker = _gat._getTracker("UA-12313843-4");
pageTracker._setDomainName("none");
pageTracker._setAllowLinker(true);
pageTracker._trackPageview();
} catch(err) {}
</script>
<!-- GA-TRACKING-END -->
</head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="buildmaster.html" title="2.2.4. Buildmaster Setup"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="requirements.html" title="2.2.2. Requirements"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Buildbot 2.4.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >2. Buildbot Manual</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2.2. Installation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">Buildbot no longer supports Python 2.7 on the Buildbot master.</p>
</div>
<div class="section" id="installing-the-code">
<span id="id1"></span><h1>2.2.3. Installing the code<a class="headerlink" href="#installing-the-code" title="Permalink to this headline">¶</a></h1>
<div class="section" id="the-buildbot-packages">
<h2>2.2.3.1. The Buildbot Packages<a class="headerlink" href="#the-buildbot-packages" title="Permalink to this headline">¶</a></h2>
<p>Buildbot comes in several parts: <code class="docutils literal notranslate"><span class="pre">buildbot</span></code> (the buildmaster), <code class="docutils literal notranslate"><span class="pre">buildbot-worker</span></code> (the worker), <code class="docutils literal notranslate"><span class="pre">buildbot-www</span></code>, and several web plugins such as <code class="docutils literal notranslate"><span class="pre">buildbot-waterfall-view</span></code>.</p>
<p>The worker and buildmaster can be installed individually or together.
The base web (<code class="docutils literal notranslate"><span class="pre">buildbot.www</span></code>) and web plugins are required to run a master with a web interface (the common configuration).</p>
</div>
<div class="section" id="installation-from-pypi">
<h2>2.2.3.2. Installation From PyPI<a class="headerlink" href="#installation-from-pypi" title="Permalink to this headline">¶</a></h2>
<p>The preferred way to install Buildbot is using <code class="docutils literal notranslate"><span class="pre">pip</span></code>.
For the master:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install buildbot
</pre></div>
</div>
<p>and for the worker:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install buildbot-worker
</pre></div>
</div>
<p>When using <code class="docutils literal notranslate"><span class="pre">pip</span></code> to install instead of distribution specific package managers, e.g. via <cite>apt-get</cite> or <cite>ports</cite>, it is simpler to choose exactly which version one wants to use.
It may however be easier to install via distribution specific package mangers but note that they may provide an earlier version than what is available via <code class="docutils literal notranslate"><span class="pre">pip</span></code>.</p>
<p>If you plan to use TLS or SSL in master configuration (e.g. to fetch resources over HTTPS using <code class="docutils literal notranslate"><span class="pre">twisted.web.client</span></code>), you need to install Buildbot with <code class="docutils literal notranslate"><span class="pre">tls</span></code> extras:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install buildbot<span class="o">[</span>tls<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="installation-from-tarballs">
<h2>2.2.3.3. Installation From Tarballs<a class="headerlink" href="#installation-from-tarballs" title="Permalink to this headline">¶</a></h2>
<p>Buildbot master and <code class="docutils literal notranslate"><span class="pre">buildbot-worker</span></code> are installed using the standard Python <a class="reference external" href="http://docs.python.org/library/distutils.html">distutils</a> process.
For either component, after unpacking the tarball, the process is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python setup.py build
python setup.py install
</pre></div>
</div>
<p>where the install step may need to be done as root.
This will put the bulk of the code in somewhere like <code class="file docutils literal notranslate"><span class="pre">/usr/lib/pythonx.y/site-packages/buildbot</span></code>.
It will also install the <strong class="command">buildbot</strong> command-line tool in <code class="file docutils literal notranslate"><span class="pre">/usr/bin/buildbot</span></code>.</p>
<p>If the environment variable <code class="docutils literal notranslate"><span class="pre">$NO_INSTALL_REQS</span></code> is set to <code class="docutils literal notranslate"><span class="pre">1</span></code>, then <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> will not try to install Buildbot’s requirements.
This is usually only useful when building a Buildbot package.</p>
<p>To test this, shift to a different directory (like <code class="file docutils literal notranslate"><span class="pre">/tmp</span></code>), and run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>buildbot --version
<span class="c1"># or</span>
buildbot-worker --version
</pre></div>
</div>
<p>If it shows you the versions of Buildbot and Twisted, the install went ok.
If it says “no such command” or it gets an <code class="docutils literal notranslate"><span class="pre">ImportError</span></code> when it tries to load the libraries, then something went wrong.
<code class="docutils literal notranslate"><span class="pre">pydoc</span> <span class="pre">buildbot</span></code> is another useful diagnostic tool.</p>
<p>Windows users will find these files in other places.
You will need to make sure that Python can find the libraries, and will probably find it convenient to have <strong class="command">buildbot</strong> on your <span class="target" id="index-0"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code>.</p>
</div>
<div class="section" id="installation-in-a-virtualenv">
<span id="id2"></span><h2>2.2.3.4. Installation in a Virtualenv<a class="headerlink" href="#installation-in-a-virtualenv" title="Permalink to this headline">¶</a></h2>
<p>If you cannot or do not wish to install the buildbot into a site-wide location like <code class="file docutils literal notranslate"><span class="pre">/usr</span></code> or <code class="file docutils literal notranslate"><span class="pre">/usr/local</span></code>, you can also install it into the account’s home directory or any other location using a tool like <a class="reference external" href="http://pypi.python.org/pypi/virtualenv">virtualenv</a>.</p>
</div>
<div class="section" id="running-buildbot-s-tests-optional">
<span id="running-buildbots-tests-optional"></span><h2>2.2.3.5. Running Buildbot’s Tests (optional)<a class="headerlink" href="#running-buildbot-s-tests-optional" title="Permalink to this headline">¶</a></h2>
<p>If you wish, you can run the buildbot unit test suite.
First, ensure you have the <a class="reference external" href="http://pypi.python.org/pypi/mock">mock</a> Python module installed from PyPI.
You must not be using a Python wheels packaged version of Buildbot or have specified the bdist_wheel command when building.
The test suite is not included with the PyPi packaged version.
This module is not required for ordinary Buildbot operation - only to run the tests.
Note that this is not the same as the Fedora <code class="docutils literal notranslate"><span class="pre">mock</span></code> package!</p>
<p>You can check with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -mmock
</pre></div>
</div>
<p>Then, run the tests:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">PYTHONPATH</span><span class="o">=</span>. trial buildbot.test
<span class="c1"># or</span>
<span class="nv">PYTHONPATH</span><span class="o">=</span>. trial buildbot_worker.test
</pre></div>
</div>
<p>Nothing should fail, although a few might be skipped.</p>
<p>If any of the tests fail for reasons other than a missing <code class="docutils literal notranslate"><span class="pre">mock</span></code>, you should stop and investigate the cause before continuing the installation process, as it will probably be easier to track down the bug early.
In most cases, the problem is incorrectly installed Python modules or a badly configured <span class="target" id="index-1"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONPATH</span></code>.
This may be a good time to contact the Buildbot developers for help.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/full_logo.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Table Of Contents</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/index.html">1. Buildbot Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">2. Buildbot Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">2.1. Introduction</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">2.2. Installation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="components.html">2.2.1. Buildbot Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="requirements.html">2.2.2. Requirements</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">2.2.3. Installing the code</a></li>
<li class="toctree-l3"><a class="reference internal" href="buildmaster.html">2.2.4. Buildmaster Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="worker.html">2.2.5. Worker Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="misc.html">2.2.6. Next Steps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../concepts.html">2.3. Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../secretsmanagement.html">2.4. Secret Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/index.html">2.5. Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../customization.html">2.6. Customization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cmdline.html">2.7. Command-line Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../resources.html">2.8. Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../optimization.html">2.9. Optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins.html">2.10. Plugin Infrastructure in Buildbot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deploy.html">2.11. Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrading/index.html">2.12. Upgrading</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">3. Buildbot Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../relnotes/index.html">4. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../relnotes/index.html#older-release-notes">5. Older Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../indices.html">6. Indices and Tables</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="requirements.html"
                        title="previous chapter">2.2.2. Requirements</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="buildmaster.html"
                        title="next chapter">2.2.4. Buildmaster Setup</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/manual/installation/installation.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>