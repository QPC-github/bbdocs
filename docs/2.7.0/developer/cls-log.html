

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3.9.16. Logs &mdash; Buildbot 2.7.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/icon.png"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3.9.17. LogObservers" href="cls-logobserver.html" />
    <link rel="prev" title="3.9.15. WorkerManager" href="cls-workermanager.html" /> 
<!-- GA-TRACKING-START -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try{
var pageTracker = _gat._getTracker("UA-12313843-4");
pageTracker._setDomainName("none");
pageTracker._setAllowLinker(true);
pageTracker._trackPageview();
} catch(err) {}
</script>
<!-- GA-TRACKING-END -->
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Buildbot
          

          
            
            <img src="../_static/full_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">1. Buildbot Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/index.html">2. Buildbot Manual</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">3. Buildbot Development</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="quickstart.html">3.1. Development Quick-start</a></li>
<li class="toctree-l2"><a class="reference internal" href="pull-request.html">3.2. Submitting Pull Requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="general.html">3.3. General Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="rest.html">3.4. REST API</a></li>
<li class="toctree-l2"><a class="reference internal" href="raml/index.html">3.5. REST API Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html">3.6. Data API</a></li>
<li class="toctree-l2"><a class="reference internal" href="database.html">3.7. Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="mq.html">3.8. Messaging and Queues</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="classes.html">3.9. Classes</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="cls-build.html">3.9.1. Builds</a></li>
<li class="toctree-l3"><a class="reference internal" href="cls-worker.html">3.9.2. Workers</a></li>
<li class="toctree-l3"><a class="reference internal" href="cls-buildfactory.html">3.9.3. BuildFactory</a></li>
<li class="toctree-l3"><a class="reference internal" href="cls-buildsetsummarynotifiermixin.html">3.9.4. BuildSetSummaryNotifierMixin</a></li>
<li class="toctree-l3"><a class="reference internal" href="cls-changesources.html">3.9.5. Change Sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="cls-remotecommands.html">3.9.6. RemoteCommands</a></li>
<li class="toctree-l3"><a class="reference internal" href="cls-buildsteps.html">3.9.7. BuildSteps</a></li>
<li class="toctree-l3"><a class="reference internal" href="cls-basescheduler.html">3.9.8. BaseScheduler</a></li>
<li class="toctree-l3"><a class="reference internal" href="cls-forcesched.html">3.9.9. ForceScheduler</a></li>
<li class="toctree-l3"><a class="reference internal" href="cls-irenderable.html">3.9.10. IRenderable</a></li>
<li class="toctree-l3"><a class="reference internal" href="cls-iproperties.html">3.9.11. IProperties</a></li>
<li class="toctree-l3"><a class="reference internal" href="cls-iconfigurator.html">3.9.12. <code class="docutils literal notranslate"><span class="pre">IConfigurator</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cls-resultspec.html">3.9.13. ResultSpecs</a></li>
<li class="toctree-l3"><a class="reference internal" href="cls-protocols.html">3.9.14. Protocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="cls-workermanager.html">3.9.15. WorkerManager</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">3.9.16. Logs</a></li>
<li class="toctree-l3"><a class="reference internal" href="cls-logobserver.html">3.9.17. LogObservers</a></li>
<li class="toctree-l3"><a class="reference internal" href="cls-auth.html">3.9.18. Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="cls-avatar.html">3.9.19. Avatars</a></li>
<li class="toctree-l3"><a class="reference internal" href="cls-www.html">3.9.20. Web Server Classes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../relnotes/index.html">4. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../relnotes/index.html#older-release-notes">5. Older Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../indices.html">6. Indices and Tables</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Buildbot</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">3. Buildbot Development</a> &raquo;</li>
        
          <li><a href="classes.html">3.9. Classes</a> &raquo;</li>
        
      <li>3.9.16. Logs</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/developer/cls-log.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">Buildbot no longer supports Python 2.7 on the Buildbot master.</p>
</div>
<div class="section" id="module-buildbot.process.log">
<span id="logs"></span><h1>3.9.16. Logs<a class="headerlink" href="#module-buildbot.process.log" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="buildbot.process.log.Log">
<em class="property">class </em><code class="descclassname">buildbot.process.log.</code><code class="descname">Log</code><a class="headerlink" href="#buildbot.process.log.Log" title="Permalink to this definition">¶</a></dt>
<dd><p>This class handles write-only access to log files from running build steps.
It does not provide an interface for reading logs - such access should occur directly through the Data API.</p>
<p>Instances of this class can only be created by the <a class="reference internal" href="cls-buildsteps.html#buildbot.process.buildstep.BuildStep.addLog" title="buildbot.process.buildstep.BuildStep.addLog"><code class="xref py py-meth docutils literal notranslate"><span class="pre">addLog</span></code></a> method of a build step.</p>
<dl class="attribute">
<dt id="buildbot.process.log.Log.name">
<code class="descname">name</code><a class="headerlink" href="#buildbot.process.log.Log.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the log.</p>
<p>Note that if you have a build step which outputs multiple logs, naming one of the logs <code class="docutils literal notranslate"><span class="pre">Summary</span></code> will cause  the Web UI to sort the summary log first in the list, and expand it so that the contents are immediately visible.</p>
</dd></dl>

<dl class="attribute">
<dt id="buildbot.process.log.Log.type">
<code class="descname">type</code><a class="headerlink" href="#buildbot.process.log.Log.type" title="Permalink to this definition">¶</a></dt>
<dd><p>The type of the log, represented as a single character.
See <a class="reference internal" href="raml/logchunk.html#rtype-logchunk" title="logchunk"><code class="xref bb bb-rtype docutils literal notranslate"><span class="pre">logchunk</span></code></a> for details.</p>
</dd></dl>

<dl class="attribute">
<dt id="buildbot.process.log.Log.logid">
<code class="descname">logid</code><a class="headerlink" href="#buildbot.process.log.Log.logid" title="Permalink to this definition">¶</a></dt>
<dd><p>The ID of the logfile.</p>
</dd></dl>

<dl class="attribute">
<dt id="buildbot.process.log.Log.decoder">
<code class="descname">decoder</code><a class="headerlink" href="#buildbot.process.log.Log.decoder" title="Permalink to this definition">¶</a></dt>
<dd><p>A callable used to decode bytestrings.
See <a class="reference internal" href="../manual/configuration/global.html#cfg-logEncoding" title="logEncoding"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">logEncoding</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.process.log.Log.subscribe">
<code class="descname">subscribe</code><span class="sig-paren">(</span><em>receiver</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.process.log.Log.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>receiver</strong> (<em>callable</em>) – the function to call</td>
</tr>
</tbody>
</table>
<p>Register <code class="docutils literal notranslate"><span class="pre">receiver</span></code> to be called with line-delimited chunks of log data.
The callable is invoked as <code class="docutils literal notranslate"><span class="pre">receiver(stream,</span> <span class="pre">chunk)</span></code>, where the stream is indicated by a single character, or None for logs without streams.
The chunk is a single string containing an arbitrary number of log lines, and terminated with a newline.
When the logfile is finished, <code class="docutils literal notranslate"><span class="pre">receiver</span></code> will be invoked with <code class="docutils literal notranslate"><span class="pre">None</span></code> for both arguments.</p>
<p>The callable cannot return a Deferred.
If it must perform some asynchronous operation, it will need to handle its own Deferreds, and be aware that multiple overlapping calls may occur.</p>
<p>Note that no “rewinding” takes place: only log content added after the call to <code class="docutils literal notranslate"><span class="pre">subscribe</span></code> will be supplied to <code class="docutils literal notranslate"><span class="pre">receiver</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.process.log.Log.finish">
<code class="descname">finish</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.process.log.Log.finish" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Deferred</td>
</tr>
</tbody>
</table>
<p>This method indicates that the logfile is finished.
No further additions will be permitted.</p>
</dd></dl>

</dd></dl>

<p>In use, callers will receive a subclass with methods appropriate for the log type:</p>
<dl class="class">
<dt id="buildbot.process.log.TextLog">
<em class="property">class </em><code class="descclassname">buildbot.process.log.</code><code class="descname">TextLog</code><a class="headerlink" href="#buildbot.process.log.TextLog" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt>
<code class="descname">addContent(text):</code></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> – log content</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Deferred</td>
</tr>
</tbody>
</table>
<p>Add the given data to the log.
The data need not end on a newline boundary.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.process.log.HTMLLog">
<em class="property">class </em><code class="descclassname">buildbot.process.log.</code><code class="descname">HTMLLog</code><a class="headerlink" href="#buildbot.process.log.HTMLLog" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt>
<code class="descname">addContent(text):</code></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> – log content</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Deferred</td>
</tr>
</tbody>
</table>
<p>Same as <code class="xref py py-meth docutils literal notranslate"><span class="pre">TextLog.addContent</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.process.log.StreamLog">
<em class="property">class </em><code class="descclassname">buildbot.process.log.</code><code class="descname">StreamLog</code><a class="headerlink" href="#buildbot.process.log.StreamLog" title="Permalink to this definition">¶</a></dt>
<dd><p>This class handles logs containing three interleaved streams: stdout, stderr, and header.
The resulting log maintains data distinguishing these streams, so they can be filtered or displayed in different colors.
This class is used to represent the stdio log in most steps.</p>
<dl class="method">
<dt id="buildbot.process.log.StreamLog.addStdout">
<code class="descname">addStdout</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.process.log.StreamLog.addStdout" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> – log content</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Deferred</td>
</tr>
</tbody>
</table>
<p>Add content to the stdout stream.
The data need not end on a newline boundary.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.process.log.StreamLog.addStderr">
<code class="descname">addStderr</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.process.log.StreamLog.addStderr" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> – log content</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Deferred</td>
</tr>
</tbody>
</table>
<p>Add content to the stderr stream.
The data need not end on a newline boundary.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.process.log.StreamLog.addHeader">
<code class="descname">addHeader</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.process.log.StreamLog.addHeader" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> – log content</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Deferred</td>
</tr>
</tbody>
</table>
<p>Add content to the header stream.
The data need not end on a newline boundary.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cls-logobserver.html" class="btn btn-neutral float-right" title="3.9.17. LogObservers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="cls-workermanager.html" class="btn btn-neutral float-left" title="3.9.15. WorkerManager" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Buildbot Team Members

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>